@{
    ViewBag.Title = "Status Search";
    ViewBag.IsLoggedIn = Site.Services.HttpContextHelpers.IsAuthenicated(this.Context);
}

@model Site.Models.SearchResults

<div class="row">
    <div class="col-md-3"></div>
    <div class="Container col-md-6">
        <div>Searching for "@Model.Search"</div>

        @foreach (var m in Model.StatusList.Status)
        {
            <div class="panel pandel-default" onclick="document.location = '/Status/Single?statusId=@m.StatusId'">
                <div class="panel-body">
                    <div>
                        @m.Message
                    </div>
                </div>
                <div class="panel-footer clearfix">
                    <div class="pull-left">@m.DateAdded by @m.UserName</div>
                    <div class="pull-right">
                        Popularity: @m.Popularity
                    </div>
                </div>
            </div>
        }
    </div>
    <div class="col-md-3"></div>
</div>

<div class="row">
    <div class="col-md-5"></div>
    <div class="col-md-2 pagination-centered">
        <form method="get" action="/Status/Search">
            <input type="hidden" name="searchText" value="@Model.Search" />
            Go to Page:
            <select name="page" onchange="this.form.submit()">
                @foreach (var i in Enumerable.Range(1, Model.StatusList.PageCount))
                {
                    if (i == Model.StatusList.Page)
                    {
                        <option value="@i" selected>@i</option>
                    }
                    else
                    {
                        <option value="@i">@i</option>
                    }
                }
            </select>
        </form>
    </div>
    <div class="col-md-5"></div>
</div>
